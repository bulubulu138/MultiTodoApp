# 内容专注视图功能说明

## 功能概述

为了满足用户更专注于待办内容编辑的需求，我们新增了"内容专注模式"视图。该模式隐藏了待办的元数据信息（如创建时间、标签等），只展示待办的富文本内容，让用户可以像使用大型富文本编辑器一样编辑多个待办。

## 主要特性

### 1. 双视图模式
- **卡片视图**（默认）：传统的卡片式展示，包含完整的待办信息
- **专注视图**：简化的内容专注模式，仅显示待办内容

### 2. 快速切换
在工具栏的排序选择器旁边，提供了视图切换控件：
- 🗂️ **卡片**：切换到卡片视图
- 📝 **专注**：切换到内容专注视图

### 3. 内容专注视图特点

#### 显示内容
- ✅ 富文本编辑器（每个待办一个）
- ✅ 完成状态复选框（快速标记完成/待办）
- ✅ 查看详情按钮（跳转到完整信息视图）
- ✅ 保存按钮（仅在内容修改后显示）
- ❌ 不显示：标签、优先级、创建时间、截止时间等元数据

#### 编辑体验
- **及时保存**：修改内容后，保存按钮自动出现，点击即可保存
- **独立编辑**：每个待办可以独立编辑和保存
- **简洁分隔**：待办之间使用浅色分割线分隔，视觉清爽
- **专注体验**：去除干扰元素，专注于内容创作

#### 排序和过滤
- 遵循当前选择的排序方式（手动排序、时间排序等）
- 遵循当前选择的 Tab 过滤（全部、待办、进行中等）

### 4. 视图偏好持久化
- 系统会自动记住您上次使用的视图模式
- 下次打开应用时，会恢复到上次的视图状态

## 使用场景

### 适合使用专注视图的场景
1. 📝 **批量编辑内容**：需要连续编辑多个待办的详细内容
2. ✍️ **撰写长文**：待办内容包含大量文字、需要专注写作
3. 📋 **内容梳理**：整理和润色已有待办的内容描述
4. 🎯 **减少干扰**：不希望被标签、时间等元数据干扰

### 适合使用卡片视图的场景
1. 🗂️ **快速浏览**：需要查看待办的完整信息（标签、时间等）
2. ⚡ **批量操作**：需要快速修改状态、优先级、标签等
3. 🔗 **管理关系**：需要查看和编辑待办之间的关联关系
4. 📊 **信息概览**：需要一次性看到所有元数据

## 技术实现

### 新增文件
- `src/renderer/components/ContentFocusView.tsx` - 内容专注视图组件

### 修改文件
- `src/renderer/App.tsx` - 添加视图模式状态管理
- `src/renderer/components/Toolbar.tsx` - 添加视图切换按钮
- `src/renderer/components/TodoList.tsx` - 根据视图模式渲染不同组件
- `src/renderer/styles/global.css` - 添加专注视图样式

### 核心特性
1. **React.memo 优化**：使用 `React.memo` 避免不必要的重渲染
2. **状态持久化**：视图偏好保存到 settings 中
3. **响应式设计**：适配不同屏幕尺寸
4. **深色主题支持**：完整支持深色主题

## 快捷操作

在内容专注视图中：
- 直接在富文本编辑器中编辑内容
- 点击"标记完成"复选框快速更改状态
- 点击"查看详情"按钮查看完整信息
- 修改后点击"保存"按钮保存更改

## 注意事项

1. 专注视图仅显示内容，若需修改其他信息（标签、优先级等），请：
   - 点击"查看详情"按钮查看完整信息
   - 或切换回卡片视图进行编辑

2. 保存操作只保存当前待办的内容，不影响其他待办

3. 视图切换不会丢失未保存的编辑，但建议及时保存

## 未来改进方向

- [ ] 添加键盘快捷键切换视图（如 `Ctrl/Cmd + Shift + V`）
- [ ] 支持批量保存所有修改
- [ ] 添加"仅查看"模式（禁用编辑）
- [ ] 支持自定义专注视图显示的字段

---

📅 **实现日期**: 2025-10-30
👤 **需求提出**: 用户反馈希望有更专注的内容编辑体验
✅ **状态**: 已完成并可用

